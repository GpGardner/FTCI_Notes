<!DOCTYPE html>
<html
  xmlns:th="http://www.thymeleaf.org"
  xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4"
>
  <head>
    <title>Registration</title>
    <div th:replace="/fragments/headlinks :: head-styles"></div>
  </head>
  <body>
    <div class="container">
      <div th:replace="fragments/navbar"></div>

      <h2>Sign up</h2>

      <!-- If success was passed through show this html -->
      <div th:if="${success}">
        <h3><span class="text-success" th:utext="${success}"></span></h3>
        <form action="/login" method="get">
          <button
            class="btn btn-md btn-success btn-block"
            name="Login"
            value="Login"
            type="Submit"
            th:text="Login"
          ></button>
        </form>
      </div>

      <!-- If success was passed through don't show this html -->

      <div th:unless="${success}">
        <form
          th:action="@{/signup}"
          th:object="${user}"
          method="post"
          autocomplete="off"
        >
          <div class="form-group">
            <label
              th:if="${#fields.hasErrors('firstName')}"
              th:errors="*{firstName}"
              class="validation-message"
            ></label>
            <input
              type="text"
              th:field="*{firstName}"
              placeholder="First Name"
              class="form-control"
            />
          </div>

          <div class="form-group">
            <label
              th:if="${#fields.hasErrors('lastName')}"
              th:errors="*{lastName}"
              class="validation-message"
            ></label>
            <input
              type="text"
              th:field="*{lastName}"
              placeholder="Last Name"
              class="form-control"
            />
          </div>

          <div class="form-group">
            <label
              th:if="${#fields.hasErrors('username')}"
              th:errors="*{username}"
              class="validation-message"
            ></label>
            <input
              type="text"
              th:field="*{username}"
              placeholder="Username"
              class="form-control"
            />
          </div>

          <div class="form-group">
            <label
              th:if="${#fields.hasErrors('email')}"
              th:errors="*{email}"
              class="validation-message"
            ></label>
            <input
              type="text"
              th:field="*{email}"
              placeholder="Email"
              class="form-control"
            />
          </div>

          <div class="form-group">
            <label
              th:if="${#fields.hasErrors('password')}"
              th:errors="*{password}"
              class="validation-message"
            ></label>
            <input
              type="password"
              th:field="*{password}"
              placeholder="Password"
              class="form-control"
            />
          </div>
          <div class="form-group">
            <button
              class="btn btn-md btn-success btn-block"
              name="Submit"
              value="Submit"
              type="Submit"
              th:text="Submit"
            ></button>
          </div>
        </form>
      </div>
    </div>
  </body>
</html>
